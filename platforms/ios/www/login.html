
<div class="main-login main-center bg-dark">
<form id="login-form" class="form-horizontal" method="post" action="#">
    <div class="form-group">
        <label for="login" class="cols-sm-2 control-label"><translate data-translate="login.username"></translate></label>
        <div class="cols-sm-10">
                <div class="input-group">
                    <div class="input-group-prepend">
                        <span class="input-group-text"><i class="fa fa-users fa" aria-hidden="true"></i></span>
                    </div>
                        <input type="text" class="form-control" name="login" id="login-login" value="test">
                </div>
        </div>
    </div>

    <div class="form-group">
            <label for="password" class="cols-sm-2 control-label"><translate data-translate="login.password"></translate></label>
            <div class="cols-sm-10">
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <span class="input-group-text"><i class="fa fa-lock fa-lg" aria-hidden="true"></i></span>
                        </div>
                            <input type="password" class="form-control" name="password" id="login-password" value="1234567890">
                    </div>
            </div>
    </div>
    <div class="form-group ">
        <button id="login-button" type="button" class="btn btn-primary btn-lg btn-block login-button"><translate data-translate="login.login_button"></translate></button>
    </div>
</form>
</div>

<script>
    
   $('#login-button').click(function(){
        var data = $('#login-form').serializeArray();
        var sendData = {};
        for(let i=0; i < data.length; i++){
            sendData[data[i].name] = data[i].value
        }
        
        console.log("loginButtonClick");
        app.sendRequest(sendData, "login", function(response){
			app.initUserTemplates();
            app.rebuild();
        },
        
        function(response){
            alert(response.errors[0]);
        });
   }); 
   
   


</script>